
<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <link rel="stylesheet" href="style.css" >
  <script src="jquery-2.2.3.min.js"></script>

  <script src="game.js"></script>
  <script type="text/javascript">
    var cube;
    var level = 1;
    $('document').ready(function() {
      init(4);
    });

    function init(picturesPerSide) {
      cube = new Cube(picturesPerSide);

      // create <img>s in canvas div
      var div = $("#myCanvas");
      div.empty();
      div.append("<table>");
      for (i = 0; i < cube.picturesPerSide; i++) {

        if(cube.picturesPerSide != 0 && i != 1
            && cube.picturesPerSide % i){
              div.append("<tr>");
        }

        div.append("<img id='img" + i + "' class='img' src='' alt='" + i +"'>");

        if(cube.picturesPerSide != 0 && i != 1
            && cube.picturesPerSide % i){
              div.append("</tr>");
        }

      }
      div.append("</table>");
      displayImages();
      drawCube(cube.frontSide - 1, cube.rightSide - 1, cube.topSide - 1);

      // init listeners
      for (i = 0; i < cube.picturesPerSide; i++) {
      $("#img" + i).click(function(eventObject) {
      var element = $( this );
        var picIndex = element.attr("alt");
        console.log("user selected " + picIndex);
        cube.selectPicture(cube.getFrontSide().pictures[picIndex]);
      });
      }
    }

    function displayImages() {
      for (i = 0; i < cube.picturesPerSide; i++) {
        var pic = cube.sides[cube.frontSide - 1].pictures[i];
        var img = $("#img" + i);
        img.attr("src", "img/" + pic.path);
        if ((cube.selectedPicture != null) && (cube.selectedPicture.path == pic.path)){
          $("#img"+i).addClass('selected');
          console.log("selected picture remembered");
        } else {
          $("#img"+i).removeClass('selected');
        }
      }
    }
  </script>
  <title>Online Puzzle</title>
</head>

<body>

  <!-- little cube for better imagination where are you on the cube
    every side has it's own color
    -->
  <canvas id="cubeCanvas" width="300" height="300" ></canvas>
  <script src="drawCube.js"></script>

  <!-- arrows for changing pictures = orientation in cube -->
  <img src="img/arrow/arrowUp.png" id="arrowUp" alt="arrowUp" />
  <img src="img/arrow/arrowRight.png" id="arrowRight" alt="arrowRight" />
  <img src="img/arrow/arrowDown.png" id="arrowDown" alt="arrowDown" />
  <img src="img/arrow/arrowLeft.png" id="arrowLeft" alt="arrowLeft" />
  <script src="arrowListeners.js"></script>

  <!-- canvas for drawing different pictures on the cube-->
  <div id="myCanvas"></div>

  <p class="text">Level: <span id="levelLbl" >1</span></p>
  <p class="text">Score: <span id="highscoreLbl" >0</span></p>

</body>
</html>
